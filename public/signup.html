<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sign Up | CodeX Systems</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

body {
  font-family: 'Poppins', sans-serif;
  background-color: #0b0050;
  display: flex;
  justify-content: center;
  align-items: center;
  height:90%;
  width:90%;
  color: #111;
}
.signup-container {
  text-align: center;
  width: 90%;
  max-width: 380px;
  animation: fadeIn 1s ease;
}
.logo {
  justify-content: center;
  width:100%;
  margin-top:90px;
  transition: 0.3s ease;
}
.logo:hover {
  transform: scale(1.05);
}
.signup-box {
  width:85%;
  height: 85%;
  margin-left:10px;
  margin-right:13px;
  margin-top:15px;
  background: #e5e5e5;
  padding: 35px 30px;
  border-radius: 20px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}
.signup-box h2 {
  height: 40px;
  font-size: 35px;
  font-weight: 700;
  font-style: italic;
  margin-top:auto;
  margin-bottom: 20px;
  color: #000;
  letter-spacing: 2px;
}
.signup-box input {
  width: 95%;
  padding: 15px;
  margin:10px;
  margin-left:-10px;
  margin-right:-10px;
  border: none;
  border-radius: 25px;
  background: #bfbfbf;
  color: #000;
  justify-content:center;
  font-size: 20px;
  outline: none;

}

.signup-box input::placeholder {
  color: #444;
  font-weight: 500;
  font-size:small;
  justify-self:start;
}

.signup-box button {
  width: 35%;
  background: #0d00ff;
  border: none;
  color: #fff;
  border-radius: 25px;
  padding: 10px 0;
  font-size: 20px;
  font-weight: 600;
  margin-top: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.signup-box button:hover {
  transform: scale(1.05);
  background: #3b82f6;
}

.signup-box .links {
  margin-top: 1px;
  font-size: 13px;
  color: #6b7280;
}

.signup-box .links a {
  color: #0d00ff;
  text-decoration: none;
  font-weight: 800;
}

.signup-box .links a:hover {
  text-decoration: underline;
}

.toast {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: #1e293b;
  color: #fff;
  padding: 14px 20px;
  border-radius: 10px;
  font-weight: 500;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.4s ease;
}
.toast.show {
  opacity: 1;
  transform: translateY(0);
}

@keyframes fadeIn {
  0% { opacity: 0; transform: translateY(30px); }
  100% { opacity: 1; transform: translateY(0); }
}

@media (max-width: 480px) {
  .logo {
    width: 160px;
  }
  .signup-box {
    padding: 25px;
  }
  .signup-box h2 {
    font-size: 26px;
  }
  .signup-box input {
    font-size: 14px;
  }
  .signup-box button {
    width: 60%;
  }
}
</style>
</head>
<body>

<div class="signup-container">
  <img src="img/logoo.png" alt="CodeX Logo" class="logo">

  <div class="signup-box">
    <h2>SIGN-UP</h2>
    <input type="email" id="signupEmail" placeholder="EMAIL" required>
    <input type="password" id="signupPassword" placeholder="PASSWORD" required>
    <input type="password" id="confirmPassword" placeholder="CONFIRM PASSWORD" required>
    <button id="signupBtn">Sign Up</button>

    <div class="links">
      <p>Already have an account? <a href="login.html">log-in!</a></p>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
  const firebaseConfig = {
    apiKey: "AIzaSyB7-0DHmxBz1ULh4ApnyuVTHAwENv1raSE",
    authDomain: "hr-solution-2da5e.firebaseapp.com",
    databaseURL: "https://hr-solution-2da5e-default-rtdb.firebaseio.com",
    projectId: "hr-solution-2da5e",
    storageBucket: "hr-solution-2da5e.appspot.com",
    messagingSenderId: "735828723473",
    appId: "1:735828723473:web:55ccbc99c15575f177eeb0",
    measurementId: "G-LR232WT760"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  document.getElementById("signupBtn").addEventListener("click", async () => {
    const email = document.getElementById("signupEmail").value.trim();
    const password = document.getElementById("signupPassword").value.trim();
    const confirmPassword = document.getElementById("confirmPassword").value.trim();

    if (!email || !password || !confirmPassword) {
      showToast("⚠️ Please fill all fields", false);
      return;
    }

    if (password !== confirmPassword) {
      showToast("❌ Passwords do not match", false);
      return;
    }

    try {
      await createUserWithEmailAndPassword(auth, email, password);
      showToast("✅ Account created successfully!");
      setTimeout(() => (window.location.href = "login.html"), 1500);
    } catch (error) {
      if (error.code === "auth/email-already-in-use") {
        showToast("❌ Email already in use", false);
      } else if (error.code === "auth/invalid-email") {
        showToast("❌ Invalid email address", false);
      } else if (error.code === "auth/weak-password") {
        showToast("⚠️ Password should be at least 6 characters", false);
      } else {
        showToast("⚠️ " + error.message, false);
      }
    }
  });
  function showToast(message, success = true) {
    const toast = document.getElementById("toast");
    toast.textContent = message;
    toast.style.background = success ? "#16a34a" : "#dc2626";
    toast.classList.add("show");

    setTimeout(() => toast.classList.remove("show"), 3000);
  }
</script>

</body>
</html>
